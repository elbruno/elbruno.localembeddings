# Plan â€” Add Parameterless LocalEmbeddingGenerator Constructor

Date: 2026-02-13 12:58

## Goal

Enable this usage:

```csharp
using var embeddingGenerator = new LocalEmbeddingGenerator();
```

while preserving current behavior and compatibility with:

```csharp
using var embeddingGenerator = new LocalEmbeddingGenerator(new LocalEmbeddingsOptions());
```

## Scope

- Add a parameterless constructor in `LocalEmbeddingGenerator` that uses default options.
- Add a parameterless async factory overload for symmetry.
- Add tests validating parameterless constructor/factory behavior.
- Update docs and relevant sample(s) to use the simpler constructor where no custom options are needed.
- Build and run tests.

## Implementation Steps

1. **Core API changes** (`src/ElBruno.LocalEmbeddings/LocalEmbeddingGenerator.cs`)
   - Add `public LocalEmbeddingGenerator() : this(new LocalEmbeddingsOptions()) { }`
   - Add `public static Task<LocalEmbeddingGenerator> CreateAsync(CancellationToken cancellationToken = default)`
     delegating to the existing `CreateAsync(LocalEmbeddingsOptions, CancellationToken)`.
   - Add XML docs for both new members.

2. **Tests** (`tests/ElBruno.LocalEmbeddings.Tests/LocalEmbeddingGeneratorTests.cs`)
   - Add integration tests:
     - Parameterless constructor succeeds when model is available.
     - Parameterless `CreateAsync()` succeeds when model is available.
     - Parameterless constructor generates an embedding with expected dimensions.
   - Follow existing `SkippableFact` pattern and model availability checks.

3. **Samples**
   - Update `samples/RagFoundryLocal/Program.cs`:
     - Replace `new LocalEmbeddingGenerator(new LocalEmbeddingsOptions())`
       with `new LocalEmbeddingGenerator()`.
     - Remove unused `ElBruno.LocalEmbeddings.Options` using if no longer needed.

4. **Documentation**
   - Update `README.md` Quick Start to use parameterless constructor.
   - Update `docs/getting-started.md` Step 1 to use parameterless constructor.
   - Update `docs/api-reference.md` signatures to include:
     - `LocalEmbeddingGenerator()`
     - `CreateAsync(CancellationToken cancellationToken = default)`

5. **Validation**
   - Run `dotnet build` from repo root.
   - Run `dotnet test` from repo root.
   - Confirm no warnings/errors and new tests integrate cleanly.

## Notes

- This is a non-breaking additive change.
- Existing constructor and existing options-based `CreateAsync` remain unchanged.
- Samples that intentionally customize options keep explicit `LocalEmbeddingsOptions` usage.
